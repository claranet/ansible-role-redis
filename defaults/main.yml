---
# defaults file for role

# redis_server_version: â€¦
redis_server_enabled: true

redis_user: redis
redis_listen: 127.0.0.1
redis_port: 6379
redis_timeout: 0
redis_tcp_keepalive: 300

redis_loglevel: notice
redis_logdir: /space/logs/redis
redis_logfile: "redis-server_{{ redis_port }}.log"
redis_databases: 16
redis_databases_dir: /space/redis
redis_dbfilename: dump.rdb
redis_replica_readonly: 'yes'
redis_replica_priority: 100
redis_replica_serve_stale_data: 'yes'
redis_maxclients: 10000
redis_limitnofile: 65535
redis_maxmemory_policy: allkeys-lru
redis_maxmemory_samples: 5
redis_maxmemory: "{{ [ ansible_memtotal_mb * 1024 * 1024 - 1073741824 , (ansible_memtotal_mb * 1024 * 1024 * 0.8) | int ] | max }}"
redis_password: null
# set an empty string to autodiscover master ip
redis_master_ip: ""

# redis_group: []
redis_group: "{{ groups.redis }}"

# Sentinel
redis_sentinel_enabled: false
redis_sentinel_version: "{{ redis_server_version }}"
redis_sentinel_daemonize: true
redis_sentinel_listen: 127.0.0.1
redis_sentinel_port: 26379
redis_sentinel_logdir: "{{ redis_logdir }}"
redis_sentinel_logfile: "redis-sentinel_{{ redis_sentinel_port }}.log"
redis_sentinel_databases_dir: "{{ redis_databases_dir }}"
redis_sentinel_quorum: 2
redis_sentinel_downafter: 10000
redis_sentinel_failover_timeout: 30000
